"use strict";var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=_default;var _echarts=_interopRequireDefault(require("echarts")),_tooltipStyle=_interopRequireDefault(require("../config/tooltipStyle"));function _default(e,t,l){for(var i=Object.assign({centerPosition:["30%","50%"],radiusScale:["50%","70%"],legendPosition:["50%","25%"],legendMaxRowNum:5,legendFontSize:12,labelLineLength:10,labelLineLength2:10,tooltipUnit:"",clickFn:null},l),n=[],a=[],r=e.length>=i.legendMaxRowNum?i.legendMaxRowNum:e.length,o=15*r+10*(r-1),u=0;u<e.length;u++)n.push({name:e[u].targetItem,icon:"circle"}),a.push({value:e[u].actualTarget,name:e[u].targetItem});var c=_echarts.default.init(document.getElementById(t),"customed"),g=Object.assign({trigger:"item",formatter:function(e){var t=i.tooltipUnit;return 4<parseInt(e.value).toString().length&&(e.value=(parseFloat(e.value)/1e4).toFixed(2),t=-1<i.tooltipUnit.indexOf("万")?t.replace("万","亿"):"万"+t),e.name+"<br>"+e.value+t+" ("+e.percent+"%)"}},_tooltipStyle.default);c.setOption({tooltip:g,legend:{left:i.legendPosition[0],top:i.legendPosition[1],height:o,orient:"vertical",selectedMode:!1,data:n,textStyle:{lineHeight:15,fontSize:i.legendFontSize}},series:[{type:"pie",radius:i.radiusScale,center:i.centerPosition,avoidLabelOverlap:!0,data:a,label:{lineHeight:12,formatter:"{b}：{c} ({d}%)"},labelLine:{length:i.labelLineLength,length2:i.labelLineLength2}}]}),i.clickFn&&c.on("click",i.clickFn)}