"use strict";var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=_default;var _echarts=_interopRequireDefault(require("echarts")),_tooltipStyle=_interopRequireDefault(require("../config/tooltipStyle"));function _default(e,t,o){for(var l=Object.assign({gridLeft:30,gridTop:60,gridRight:30,gridBottom:30,legendTop:10,legendName:[""],tooltipUnit:"",xAxisFontSize:12,xAxisMaxCharNum:8,xAxisFilter:"",yAxisUnit:"",yAxisSplitNum:5,dataZoomStyle:[0,100,!1],clickFn:null},o),r=[{color:"#15a3ff"},{color:"#ff6161"},{color:"#4ed552"},{color:"#ffc715"}],a=[{normal:{color:new _echarts.default.graphic.LinearGradient(0,0,0,1,[{offset:0,color:"#15a3ff"},{offset:1,color:"rgba(41,197,255,0.20)"}]),opacity:.3}},{normal:{color:new _echarts.default.graphic.LinearGradient(0,0,0,1,[{offset:0,color:"#ff6161"},{offset:1,color:"rgba(255,97,97,0.25)"}]),opacity:.3}},{normal:{color:new _echarts.default.graphic.LinearGradient(0,0,0,1,[{offset:0,color:"#4ed552"},{offset:1,color:"rgba(78,213,82,0.20)"}]),opacity:.3}},{normal:{color:new _echarts.default.graphic.LinearGradient(0,0,0,1,[{offset:0,color:"#ffc715"},{offset:1,color:"rgba(255,199,21,0.20)"}]),opacity:.3}}],i=[],n=[],c=[],s=0;s<e.length;s++){c.push([]);for(var f=0;f<e[s].length;f++){var d=e[s][f].date;5==d.length&&(d=d.slice(0,4)+"0"+d.slice(4)),0==s&&i.push(d.replace(l.xAxisFilter,"")),c[s].push(e[s][f].actualTarget)}n.push({type:"line",name:l.legendName[s],data:c[s],itemStyle:r[s],areaStyle:a[s]})}var u=_echarts.default.init(document.getElementById(t),"customed"),p=Object.assign({trigger:"axis",axisPointer:{type:"line",lineStyle:{color:"#ccc",width:1},label:{precision:2},z:0},formatter:function(e){for(var t=e[0].name,o=0;o<e.length;o++)t+="<br>"+e[o].marker+e[o].seriesName+"ï¼š"+e[o].value+l.tooltipUnit;return t}},_tooltipStyle.default);u.setOption({tooltip:p,grid:{left:l.gridLeft,top:l.gridTop,right:l.gridRight,bottom:l.gridBottom,containLabel:!0},legend:{top:l.legendTop,data:l.legendName},xAxis:{boundaryGap:!1,data:i,axisLabel:{lineHeight:l.xAxisFontSize,fontSize:l.xAxisFontSize,formatter:function(e){for(var t="",o=l.xAxisMaxCharNum,r=Math.ceil(e.length/o),a=0;a<r;a++){var i=e.slice(a*o,(a+1)*o);0<r-1&&(i+="\n"),t+=i}return t}}},yAxis:{type:"value",splitNumber:l.yAxisSplitNum,axisLabel:{formatter:function(e){return e+l.yAxisUnit}}},dataZoom:[{type:"inside",xAxisIndex:0,start:l.dataZoomStyle[0],end:l.dataZoomStyle[1],zoomOnMouseWheel:!1},{type:"slider",xAxisIndex:0,start:l.dataZoomStyle[0],end:l.dataZoomStyle[1],show:l.dataZoomStyle[2],zoomLock:!0}],series:n}),l.clickFn&&u.on("click",l.clickFn)}
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1vZHVsZXMvbGluZUNoYXJ0LmpzIl0sIm5hbWVzIjpbIl9lY2hhcnRzIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsInJlcXVpcmUiLCJfdG9vbHRpcFN0eWxlIiwiX2RlZmF1bHQiLCJkYXRhIiwiY2hhcnRJRCIsIm9wdGlvbnMiLCJvcHRzIiwiT2JqZWN0IiwiYXNzaWduIiwiZ3JpZExlZnQiLCJncmlkVG9wIiwiZ3JpZFJpZ2h0IiwiZ3JpZEJvdHRvbSIsImxlZ2VuZFRvcCIsImxlZ2VuZE5hbWUiLCJ0b29sdGlwVW5pdCIsInhBeGlzRm9udFNpemUiLCJ4QXhpc01heENoYXJOdW0iLCJkZWZhdWx0T3B0cyIsInlBeGlzU3BsaXROdW0iLCJjbGlja0ZuIiwiY29sb3IiLCJjb2xvckxpbmVhckxpc3QiLCJlY2hhcnRzIiwiZ3JhcGhpYyIsIkxpbmVhckdyYWRpZW50Iiwib2Zmc2V0IiwiZGF0YVpvb21TdHlsZSIsIm5vcm1hbCIsIm9wYWNpdHkiLCJ4QXhpc05hbWVzIiwic2VyaWVzRGF0YSIsImkiLCJsZW5ndGgiLCJwdXNoIiwiZGF0ZSIsImoiLCJzbGljZSIsInJlcGxhY2UiLCJ4QXhpc0ZpbHRlciIsImFjdHVhbFRhcmdldCIsInR5cGUiLCJpdGVtU3R5bGUiLCJjb2xvckxpc3QiLCJhcmVhU3R5bGUiLCJpbml0IiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsInRyaWdnZXIiLCJsaW5lU3R5bGUiLCJ3aWR0aCIsImxhYmVsIiwicHJlY2lzaW9uIiwieiIsInJlc3VsdCIsInJldHVyblZhbCIsIm5hbWUiLCJtYXJrZXIiLCJzZXJpZXNOYW1lIiwidmFsdWUiLCJjaGFydCIsInNldE9wdGlvbiIsInRvb2x0aXAiLCJzZXJpZXMiLCJsZWZ0IiwibGVnZW5kIiwidG9wIiwiYXhpc1BvaW50ZXIiLCJsaW5lSGVpZ2h0IiwiZm9udFNpemUiLCJmb3JtYXR0ZXIiLCJzdHIiLCJtYXhMZW5ndGgiLCJyb3dOdW0iLCJNYXRoIiwiY2VpbCIsInBhcnQiLCJ5QXhpcyIsInRvb2x0aXBTdHlsZSIsImF4aXNMYWJlbCIsInlBeGlzVW5pdCIsInJpZ2h0IiwiY29udGFpbkxhYmVsIiwic3RhcnQiLCJlbmQiLCJ4QXhpc0luZGV4IiwiYm91bmRhcnlHYXAiXSwibWFwcGluZ3MiOiJnTEFBQSxJQUFBQSxTQUFBQyx1QkFBQUMsUUFBQSxZQUNBQyxjQUFBRix1QkFBQUMsUUFBQSwyQkFHZSxTQUFBRSxTQUFVQyxFQUFNQyxFQUFTQyxHQTJCZCxJQTFCdEIsSUFHb0NDLEVBQUFDLE9BQUFDLE9BSGxCLENBQ2RDLFNBQVUsR0FDVkMsUUFBUyxHQUNUQyxVQUFXLEdBUm5CQyxXQUFBLEdBVVFDLFVBQVcsR0FUbkJDLFdBQUEsQ0FBQSxJQVdRQyxZQUFhLEdBVHJCQyxjQUFBLEdBQ2VDLGdCQUFnQmIsRUFDdkJjLFlBQWMsR0FDZFQsVUFEYyxHQUNrQlUsY0FBQSxFQUNoQ1QsY0FGYyxDQUFBLEVBQUEsS0FBQSxHQUVrQlUsUUFBQSxNQUNBZixHQUNoQ08sRUFKYyxDQUFBLENBSWtCUyxNQUFBLFdBQ2hDUixDQUFnQ1EsTUFBQSxXQUNoQ1AsQ0FBZ0NPLE1BQUEsV0FDaENOLENBQWdDTSxNQUFBLFlBQ0FDLEVBQUEsQ0FBQSxDQUNoQ0wsT0FBQUEsQ0FBZ0NJLE1BQUEsSUFBQUUsU0FBQUEsUUFBQUMsUUFBQUMsZUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLENBQUEsQ0FDckJDLE9BVkcsRUFVa0JMLE1BQUEsV0FDckIsQ0FBcUJLLE9BQUEsRUFDaENQLE1BWmMsMkJBYWRRLFFBQWUsS0FDZlAsQ0F3QkFRLE9BQVEsQ0F0Q1pQLE1BQUEsSUFBQUUsU0FBQUEsUUFBQUMsUUFBQUMsZUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLENBQUEsQ0FnQldsQixPQUFPQyxFQUNMYSxNQUFJLFdBQ04sQ0FDUkssT0FBQSxFQUNRTCxNQUFBLDBCQUVBUSxRQUFBLEtBRVBSLENBUEpPLE9BQUEsQ0FTSU4sTUFBQUEsSUFBZUMsU0FBQUEsUUFBSUMsUUFBQUMsZUFBQSxFQUFBLEVBQUEs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QSxHQVNKeUQsSUFBQTlFLEVBQUFxQixjQUFBLEdBQ0NyQixrQkFERCxHQUVBLENBWEltQyxLQUFBLFNBYUw0QyxXQUFBLEVBQ0hDLE1BQWFoRixFQURWcUIsY0FBQSxHQUVHRyxJQUFBQSxFQUZISCxjQUFBLEdBR0hvRCxLQUFXekUsRUFBQXFCLGNBQUEsR0FDUHlDLFVBQVk5RCxJQUVaZ0UsT0FBQUEsSUFDSWhFLEVBQUFjLFNBQ0lvRCxFQUFZbEUsR0FBSSxRQUFDVyxFQUFBQSIsImZpbGUiOiJtb2R1bGVzL2xpbmVDaGFydC5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBlY2hhcnRzIGZyb20gJ2VjaGFydHMnXG5pbXBvcnQgdG9vbHRpcFN0eWxlIGZyb20gJy4uL2NvbmZpZy90b29sdGlwU3R5bGUnXG5cbi8v5oqY57q/5Zu+XG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiAoZGF0YSwgY2hhcnRJRCwgb3B0aW9ucykge1xuICAgIHZhciBkZWZhdWx0T3B0cyA9IHtcbiAgICAgICAgZ3JpZExlZnQ6IDMwLCAgICAgICAgICAgICAgICAgICAvL+WbvuihqOi3neemu+WuueWZqOW3pui+ueeVjOi3neemu1xuICAgICAgICBncmlkVG9wOiA2MCwgICAgICAgICAgICAgICAgICAgIC8v5LiKXG4gICAgICAgIGdyaWRSaWdodDogMzAsICAgICAgICAgICAgICAgICAgLy/lj7NcbiAgICAgICAgZ3JpZEJvdHRvbTogMzAsICAgICAgICAgICAgICAgICAvL+S4i1xuICAgICAgICBsZWdlbmRUb3A6IDEwLCAgICAgICAgICAgICAgICAgIC8v5Zu+5L6L6Led56a75a655Zmo5LiK6L6555WM6Led56a7XG4gICAgICAgIGxlZ2VuZE5hbWU6IFsnJ10sICAgICAgICAgICAgICAgLy/lm77kvovlkI3np7BcbiAgICAgICAgdG9vbHRpcFVuaXQ6ICcnLCAgICAgICAgICAgICAgICAvL+aPkOekuuahhuWNleS9jVxuICAgICAgICB4QXhpc0ZvbnRTaXplOiAxMiwgICAgICAgICAgICAgIC8vWOi9tOWtl+S9k+Wkp+Wwj1xuICAgICAgICB4QXhpc01heENoYXJOdW06IDgsICAgICAgICAgICAgIC8vWOi9tOavj+ihjOaWh+Wtl+acgOWkp+S4quaVsFxuICAgICAgICB4QXhpc0ZpbHRlcjogJycsICAgICAgICAgICAgICAgIC8vWOi9tOi/h+a7pOaWh+Wtl1xuICAgICAgICB5QXhpc1VuaXQ6ICcnLCAgICAgICAgICAgICAgICAgIC8vWei9tOWNleS9jVxuICAgICAgICB5QXhpc1NwbGl0TnVtOiA1LCAgICAgICAgICAgICAgIC8vWei9tOWIhuWJsue6v+S4quaVsFxuICAgICAgICBkYXRhWm9vbVN0eWxlOiBbMCwgMTAwLCBmYWxzZV0sIC8v5Zu+6KGo5ZKMZGF0YVpvb23nu4Tku7bnmoTlvIDlp4vkvY3nva7vvIznu5PmnZ/kvY3nva7ku6Xlj4rmmK/lkKbmmL7npLpkYXRhWm9vbee7hOS7tlxuICAgICAgICBjbGlja0ZuOiBudWxsICAgICAgICAgICAgICAgICAgIC8v54K55Ye75LqL5Lu2XG4gICAgfTtcbiAgICB2YXIgb3B0cyA9IE9iamVjdC5hc3NpZ24oZGVmYXVsdE9wdHMsIG9wdGlvbnMpO1xuICAgIHZhciBjb2xvckxpc3QgPSBbe1xuICAgICAgICBjb2xvcjogJyMxNWEzZmYnXG4gICAgfSwge1xuICAgICAgICBjb2xvcjogJyNmZjYxNjEnXG4gICAgfSwge1xuICAgICAgICBjb2xvcjogJyM0ZWQ1NTInXG4gICAgfSwge1xuICAgICAgICBjb2xvcjogJyNmZmM3MTUnXG4gICAgfV07XG4gICAgdmFyIGNvbG9yTGluZWFyTGlzdCA9IFt7XG4gICAgICAgIG5vcm1hbDoge1xuICAgICAgICAgICAgY29sb3I6IG5ldyBlY2hhcnRzLmdyYXBoaWMuTGluZWFyR3JhZGllbnQoMCwgMCwgMCwgMSwgW3sgLy/popzoibLmuJDlj5jlh73mlbAg5YmN5Zub5Liq5Y+C5pWw5YiG5Yir6KGo56S65Zub5Liq5L2N572u5L6d5qyh5Li65bem44CB5LiL44CB5Y+z44CB5LiKXG4gICAgICAgICAgICAgICAgb2Zmc2V0OiAwLFxuICAgICAgICAgICAgICAgIGNvbG9yOiAnIzE1YTNmZidcbiAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICBvZmZzZXQ6IDEsXG4gICAgICAgICAgICAgICAgY29sb3I6ICdyZ2JhKDQxLDE5NywyNTUsMC4yMCknXG4gICAgICAgICAgICB9XSksXG4gICAgICAgICAgICBvcGFjaXR5OiAwLjNcbiAgICAgICAgfVxuICAgIH0sIHtcbiAgICAgICAgbm9ybWFsOiB7XG4gICAgICAgICAgICBjb2xvcjogbmV3IGVjaGFydHMuZ3JhcGhpYy5MaW5lYXJHcmFkaWVudCgwLCAwLCAwLCAxLCBbeyAvL+minOiJsua4kOWPmOWHveaVsCDliY3lm5vkuKrlj4LmlbDliIbliKvooajnpLrlm5vkuKrkvY3nva7kvp3mrKHkuLrlt6bjgIHkuIvjgIHlj7PjgIHkuIpcbiAgICAgICAgICAgICAgICBvZmZzZXQ6IDAsXG4gICAgICAgICAgICAgICAgY29sb3I6ICcjZmY2MTYxJ1xuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgIG9mZnNldDogMSxcbiAgICAgICAgICAgICAgICBjb2xvcjogJ3JnYmEoMjU1LDk3LDk3LDAuMjUpJ1xuICAgICAgICAgICAgfV0pLFxuICAgICAgICAgICAgb3BhY2l0eTogMC4zXG4gICAgICAgIH1cbiAgICB9LCB7XG4gICAgICAgIG5vcm1hbDoge1xuICAgICAgICAgICAgY29sb3I6IG5ldyBlY2hhcnRzLmdyYXBoaWMuTGluZWFyR3JhZGllbnQoMCwgMCwgMCwgMSwgW3sgLy/popzoibLmuJDlj5jlh73mlbAg5YmN5Zub5Liq5Y+C5pWw5YiG5Yir6KGo56S65Zub5Liq5L2N572u5L6d5qyh5Li65bem44CB5LiL44CB5Y+z44CB5LiKXG4gICAgICAgICAgICAgICAgb2Zmc2V0OiAwLFxuICAgICAgICAgICAgICAgIGNvbG9yOiAnIzRlZDU1MidcbiAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICBvZmZzZXQ6IDEsXG4gICAgICAgICAgICAgICAgY29sb3I6ICdyZ2JhKDc4LDIxMyw4MiwwLjIwKSdcbiAgICAgICAgICAgIH1dKSxcbiAgICAgICAgICAgIG9wYWNpdHk6IDAuM1xuICAgICAgICB9XG4gICAgfSwge1xuICAgICAgICBub3JtYWw6IHtcbiAgICAgICAgICAgIGNvbG9yOiBuZXcgZWNoYXJ0cy5ncmFwaGljLkxpbmVhckdyYWRpZW50KDAsIDAsIDAsIDEsIFt7IC8v6aKc6Imy5riQ5Y+Y5Ye95pWwIOWJjeWbm+S4quWPguaVsOWIhuWIq+ihqOekuuWbm+S4quS9jee9ruS+neasoeS4uuW3puOAgeS4i+OAgeWPs+OAgeS4ilxuICAgICAgICAgICAgICAgIG9mZnNldDogMCxcbiAgICAgICAgICAgICAgICBjb2xvcjogJyNmZmM3MTUnXG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgb2Zmc2V0OiAxLFxuICAgICAgICAgICAgICAgIGNvbG9yOiAncmdiYSgyNTUsMTk5LDIxLDAuMjApJ1xuICAgICAgICAgICAgfV0pLFxuICAgICAgICAgICAgb3BhY2l0eTogMC4zXG4gICAgICAgIH1cbiAgICB9XTtcbiAgICB2YXIgeEF4aXNOYW1lcyA9IFtdLFxuICAgICAgICBzZXJpZXMgPSBbXSxcbiAgICAgICAgc2VyaWVzRGF0YSA9IFtdO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZGF0YS5sZW5ndGg7IGkrKykge1xuICAgICAgICBzZXJpZXNEYXRhLnB1c2goW10pO1xuICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IGRhdGFbaV0ubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgIHZhciBkYXRlID0gZGF0YVtpXVtqXS5kYXRlO1xuICAgICAgICAgICAgZGF0ZS5sZW5ndGggPT0gNSAmJiAoZGF0ZSA9IGRhdGUuc2xpY2UoMCwgNCkgKyAnMCcgKyBkYXRlLnNsaWNlKDQpKTsgLy/ooaXpm7ZcbiAgICAgICAgICAgIGkgPT0gMCAmJiB4QXhpc05hbWVzLnB1c2goZGF0ZS5yZXBsYWNlKG9wdHMueEF4aXNGaWx0ZXIsICcnKSk7XG4gICAgICAgICAgICBzZXJpZXNEYXRhW2ldLnB1c2goZGF0YVtpXVtqXS5hY3R1YWxUYXJnZXQpO1xuICAgICAgICB9XG4gICAgICAgIHNlcmllcy5wdXNoKHtcbiAgICAgICAgICAgIHR5cGU6ICdsaW5lJyxcbiAgICAgICAgICAgIG5hbWU6IG9wdHMubGVnZW5kTmFtZVtpXSxcbiAgICAgICAgICAgIGRhdGE6IHNlcmllc0RhdGFbaV0sXG4gICAgICAgICAgICBpdGVtU3R5bGU6IGNvbG9yTGlzdFtpXSxcbiAgICAgICAgICAgIGFyZWFTdHlsZTogY29sb3JMaW5lYXJMaXN0W2ldXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICB2YXIgY2hhcnQgPSBlY2hhcnRzLmluaXQoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoY2hhcnRJRCksICdjdXN0b21lZCcpLFxuICAgICAgICB0b29sdGlwID0gT2JqZWN0LmFzc2lnbih7XG4gICAgICAgICAgICB0cmlnZ2VyOiAnYXhpcycsXG4gICAgICAgICAgICBheGlzUG9pbnRlcjoge1xuICAgICAgICAgICAgICAgIHR5cGU6ICdsaW5lJyxcbiAgICAgICAgICAgICAgICBsaW5lU3R5bGU6IHtcbiAgICAgICAgICAgICAgICAgICAgY29sb3I6ICcjY2NjJyxcbiAgICAgICAgICAgICAgICAgICAgd2lkdGg6IDFcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGxhYmVsOiB7XG4gICAgICAgICAgICAgICAgICAgIHByZWNpc2lvbjogMlxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgejogMFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGZvcm1hdHRlcjogZnVuY3Rpb24gKHJlc3VsdCkge1xuICAgICAgICAgICAgICAgIHZhciByZXR1cm5WYWwgPSByZXN1bHRbMF0ubmFtZTtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHJlc3VsdC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm5WYWwgKz0gJzxicj4nICsgcmVzdWx0W2ldLm1hcmtlciArIHJlc3VsdFtpXS5zZXJpZXNOYW1lICsgJ++8micgKyByZXN1bHRbaV0udmFsdWUgKyBvcHRzLnRvb2x0aXBVbml0O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gcmV0dXJuVmFsO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCB0b29sdGlwU3R5bGUpO1xuICAgIGNoYXJ0LnNldE9wdGlvbih7XG4gICAgICAgIHRvb2x0aXA6IHRvb2x0aXAsXG4gICAgICAgIGdyaWQ6IHtcbiAgICAgICAgICAgIGxlZnQ6IG9wdHMuZ3JpZExlZnQsXG4gICAgICAgICAgICB0b3A6IG9wdHMuZ3JpZFRvcCxcbiAgICAgICAgICAgIHJpZ2h0OiBvcHRzLmdyaWRSaWdodCxcbiAgICAgICAgICAgIGJvdHRvbTogb3B0cy5ncmlkQm90dG9tLFxuICAgICAgICAgICAgY29udGFpbkxhYmVsOiB0cnVlXG4gICAgICAgIH0sXG4gICAgICAgIGxlZ2VuZDoge1xuICAgICAgICAgICAgdG9wOiBvcHRzLmxlZ2VuZFRvcCxcbiAgICAgICAgICAgIGRhdGE6IG9wdHMubGVnZW5kTmFtZSxcbiAgICAgICAgfSxcbiAgICAgICAgeEF4aXM6IHtcbiAgICAgICAgICAgIGJvdW5kYXJ5R2FwOiBmYWxzZSxcbiAgICAgICAgICAgIGRhdGE6IHhBeGlzTmFtZXMsXG4gICAgICAgICAgICBheGlzTGFiZWw6IHtcbiAgICAgICAgICAgICAgICBsaW5lSGVpZ2h0OiBvcHRzLnhBeGlzRm9udFNpemUsXG4gICAgICAgICAgICAgICAgZm9udFNpemU6IG9wdHMueEF4aXNGb250U2l6ZSxcbiAgICAgICAgICAgICAgICBmb3JtYXR0ZXI6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgc3RyID0gJycsXG4gICAgICAgICAgICAgICAgICAgICAgICBtYXhMZW5ndGggPSBvcHRzLnhBeGlzTWF4Q2hhck51bSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHJvd051bSA9IE1hdGguY2VpbCh2YWx1ZS5sZW5ndGggLyBtYXhMZW5ndGgpO1xuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHJvd051bTsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgcGFydCA9IHZhbHVlLnNsaWNlKGkgKiBtYXhMZW5ndGgsIChpICsgMSkgKiBtYXhMZW5ndGgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcm93TnVtIC0gMSA+IDAgJiYgKHBhcnQgKz0gJ1xcbicpO1xuICAgICAgICAgICAgICAgICAgICAgICAgc3RyICs9IHBhcnQ7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHN0cjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIHlBeGlzOiB7XG4gICAgICAgICAgICB0eXBlOiAndmFsdWUnLFxuICAgICAgICAgICAgc3BsaXROdW1iZXI6IG9wdHMueUF4aXNTcGxpdE51bSxcbiAgICAgICAgICAgIGF4aXNMYWJlbDoge1xuICAgICAgICAgICAgICAgIGZvcm1hdHRlcjogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZSArIG9wdHMueUF4aXNVbml0O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZGF0YVpvb206IFt7XG4gICAgICAgICAgICB0eXBlOiAnaW5zaWRlJyxcbiAgICAgICAgICAgIHhBeGlzSW5kZXg6IDAsXG4gICAgICAgICAgICBzdGFydDogb3B0cy5kYXRhWm9vbVN0eWxlWzBdLFxuICAgICAgICAgICAgZW5kOiBvcHRzLmRhdGFab29tU3R5bGVbMV0sXG4gICAgICAgICAgICB6b29tT25Nb3VzZVdoZWVsOiBmYWxzZVxuICAgICAgICB9LCB7XG4gICAgICAgICAgICB0eXBlOiAnc2xpZGVyJyxcbiAgICAgICAgICAgIHhBeGlzSW5kZXg6IDAsXG4gICAgICAgICAgICBzdGFydDogb3B0cy5kYXRhWm9vbVN0eWxlWzBdLFxuICAgICAgICAgICAgZW5kOiBvcHRzLmRhdGFab29tU3R5bGVbMV0sXG4gICAgICAgICAgICBzaG93OiBvcHRzLmRhdGFab29tU3R5bGVbMl0sXG4gICAgICAgICAgICB6b29tTG9jazogdHJ1ZVxuICAgICAgICB9XSxcbiAgICAgICAgc2VyaWVzOiBzZXJpZXNcbiAgICB9KTtcbiAgICBvcHRzLmNsaWNrRm4gJiYgKGNoYXJ0Lm9uKCdjbGljaycsIG9wdHMuY2xpY2tGbikpO1xufTtcbiJdfQ==
