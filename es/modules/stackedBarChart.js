"use strict";var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=_default;var _echarts=_interopRequireDefault(require("echarts")),_tooltipStyle=_interopRequireDefault(require("../config/tooltipStyle")),_colorList=_interopRequireDefault(require("../config/colorList"));function _default(e,t,i){var l=Object.assign({gridLeft:30,gridTop:60,gridRight:30,gridBottom:30,legendTop:10,legendName:[""],tooltipUnit:"",xAxisFontSize:12,xAxisMaxCharNum:2,xAxisFilter:"",yAxisUnit:"",yAxisSplitNum:5,dataZoomStyle:[0,100,!1],clickFn:null},i),r=[],a=[],o=[],n=l.legendName[0],s={};l.legendName.shift();for(var d=0;d<e.length;d++){o.push([]);for(var u=0;u<e[d].length;u++)0!=d?o[d].push(e[d][u].actualTarget):(r.push(e[d][u].departmentName.replace(l.xAxisFilter,"")),s[e[d][u].departmentName.replace(l.xAxisFilter,"")]=e[d][u].actualTarget);0!=d&&a.push({type:"bar",name:l.legendName[d-1],data:o[d],itemStyle:_colorList.default[d-1],barMaxWidth:20,barCategoryGap:"30%",stack:"1"})}var p=_echarts.default.init(document.getElementById(t),"customed"),x=Object.assign({trigger:"axis",formatter:function(e){e.unshift({seriesName:n,value:s[e[0].name],color:{colorStops:[{color:"white"}]}});for(var t=e[1].name,i=0;i<e.length;i++){var r='<span style="display:inline-block;margin-right:5px;border-radius:10px;width:10px;height:10px;background-color:'+e[i].color.colorStops[0].color+';"></span>';0===i&&(r=""),t+="<br>"+r+e[i].seriesName+"ï¼š"+e[i].value+l.tooltipUnit}return t}},_tooltipStyle.default);p.setOption({tooltip:x,grid:{left:l.gridLeft,top:l.gridTop,right:l.gridRight,bottom:l.gridBottom,containLabel:!0},legend:{top:l.legendTop,data:l.legendName},xAxis:{offset:0,data:r,axisLabel:{lineHeight:l.xAxisFontSize,fontSize:l.xAxisFontSize,formatter:function(e){for(var t="",i=l.xAxisMaxCharNum,r=Math.ceil(e.length/i),a=0;a<r;a++){var o=e.slice(a*i,(a+1)*i);0<r-1&&(o+="\n"),t+=o}return t}}},yAxis:{type:"value",splitNumber:l.yAxisSplitNum,axisLabel:{formatter:function(e){return e+l.yAxisUnit}}},dataZoom:[{type:"inside",xAxisIndex:0,start:l.dataZoomStyle[0],end:l.dataZoomStyle[1],zoomOnMouseWheel:!1},{type:"slider",xAxisIndex:0,start:l.dataZoomStyle[0],end:l.dataZoomStyle[1],show:l.dataZoomStyle[2],zoomLock:!0}],series:a})}