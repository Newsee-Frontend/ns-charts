"use strict";var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=_default;var _echarts=_interopRequireDefault(require("echarts")),_tooltipStyle=_interopRequireDefault(require("../config/tooltipStyle"));function _default(e,t,i){for(var o=Object.assign({centerPosition:["30%","50%"],radiusScale:["50%","70%"],textPosition:["29%","44%"],text:["",""],color:"#333",fontSize:12,subtextFontSize:12,legendPosition:["50%","25%"],legendMaxRowNum:5,legendFontSize:12,tooltipConfine:!1,tooltipUnit:"",clickFn:null},i),n=[],l=[],r=e.length>=o.legendMaxRowNum?o.legendMaxRowNum:e.length,a=15*r+10*(r-1),u=0;u<e.length;u++)n.push({name:e[u].targetItem,icon:"circle"}),l.push({name:e[u].targetItem,value:e[u].actualTarget});var c=_echarts.default.init(document.getElementById(t),"customed"),s=Object.assign({trigger:"item",confine:o.tooltipConfine,formatter:function(e){var t=o.tooltipUnit;return 4<parseInt(e.value).toString().length&&(e.value=(parseFloat(e.value)/1e4).toFixed(2),t=-1<o.tooltipUnit.indexOf("万")?t.replace("万","亿"):"万"+t),e.name+"<br>"+e.value+t+" ("+e.percent+"%)"}},_tooltipStyle.default);c.setOption({title:{text:o.text[0],subtext:o.text[1],left:o.textPosition[0],top:o.textPosition[1],itemGap:0,textAlign:"center",triggerEvent:!0,textStyle:{fontWeight:"bold",lineHeight:o.fontSize,fontSize:o.fontSize,color:o.color},subtextStyle:{fontWeight:"bold",lineHeight:o.subtextFontSize,fontSize:o.subtextFontSize,color:o.color}},tooltip:s,legend:{left:o.legendPosition[0],top:o.legendPosition[1],height:a,orient:"vertical",selectedMode:!1,data:n,textStyle:{lineHeight:15,fontSize:o.legendFontSize}},series:[{type:"pie",radius:o.radiusScale,center:o.centerPosition,avoidLabelOverlap:!1,data:l,label:{show:!1}}]}),o.clickFn&&c.on("click",o.clickFn)}